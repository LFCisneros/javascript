/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';
import { ClerkCore } from '../core.js';
import { SDKOptions } from '../lib/config.js';
import type { ConsoleLogger } from './console-logger.js';
import { createRegisterPrompt } from './prompts.js';
import { createRegisterResource, createRegisterResourceTemplate } from './resources.js';
import { MCPScope, mcpScopes } from './scopes.js';
import { createRegisterTool } from './tools.js';
import { tool$actorTokensCreate } from './tools/actorTokensCreate.js';
import { tool$actorTokensRevoke } from './tools/actorTokensRevoke.js';
import { tool$allowlistIdentifiersCreate } from './tools/allowlistIdentifiersCreate.js';
import { tool$allowlistIdentifiersDelete } from './tools/allowlistIdentifiersDelete.js';
import { tool$allowlistIdentifiersList } from './tools/allowlistIdentifiersList.js';
import { tool$betaFeaturesUpdateInstanceSettings } from './tools/betaFeaturesUpdateInstanceSettings.js';
import { tool$betaFeaturesUpdateProductionInstanceDomain } from './tools/betaFeaturesUpdateProductionInstanceDomain.js';
import { tool$blocklistIdentifiersCreate } from './tools/blocklistIdentifiersCreate.js';
import { tool$blocklistIdentifiersDelete } from './tools/blocklistIdentifiersDelete.js';
import { tool$blocklistIdentifiersList } from './tools/blocklistIdentifiersList.js';
import { tool$clientsGet } from './tools/clientsGet.js';
import { tool$clientsList } from './tools/clientsList.js';
import { tool$clientsVerify } from './tools/clientsVerify.js';
import { tool$domainsAdd } from './tools/domainsAdd.js';
import { tool$domainsDelete } from './tools/domainsDelete.js';
import { tool$domainsList } from './tools/domainsList.js';
import { tool$domainsUpdate } from './tools/domainsUpdate.js';
import { tool$emailAddressesCreate } from './tools/emailAddressesCreate.js';
import { tool$emailAddressesDelete } from './tools/emailAddressesDelete.js';
import { tool$emailAddressesGet } from './tools/emailAddressesGet.js';
import { tool$emailAddressesUpdate } from './tools/emailAddressesUpdate.js';
import { tool$emailAndSmsTemplatesUpsert } from './tools/emailAndSmsTemplatesUpsert.js';
import { tool$emailSMSTemplatesGet } from './tools/emailSMSTemplatesGet.js';
import { tool$emailSMSTemplatesList } from './tools/emailSMSTemplatesList.js';
import { tool$emailSMSTemplatesRevert } from './tools/emailSMSTemplatesRevert.js';
import { tool$emailSMSTemplatesToggleTemplateDelivery } from './tools/emailSMSTemplatesToggleTemplateDelivery.js';
import { tool$instanceSettingsChangeDomain } from './tools/instanceSettingsChangeDomain.js';
import { tool$instanceSettingsGet } from './tools/instanceSettingsGet.js';
import { tool$instanceSettingsUpdate } from './tools/instanceSettingsUpdate.js';
import { tool$instanceSettingsUpdateOrganizationSettings } from './tools/instanceSettingsUpdateOrganizationSettings.js';
import { tool$instanceSettingsUpdateRestrictions } from './tools/instanceSettingsUpdateRestrictions.js';
import { tool$invitationsBulkCreate } from './tools/invitationsBulkCreate.js';
import { tool$invitationsCreate } from './tools/invitationsCreate.js';
import { tool$invitationsList } from './tools/invitationsList.js';
import { tool$invitationsRevoke } from './tools/invitationsRevoke.js';
import { tool$jwksGetJWKS } from './tools/jwksGetJWKS.js';
import { tool$jwtTemplatesCreate } from './tools/jwtTemplatesCreate.js';
import { tool$jwtTemplatesDelete } from './tools/jwtTemplatesDelete.js';
import { tool$jwtTemplatesGet } from './tools/jwtTemplatesGet.js';
import { tool$jwtTemplatesList } from './tools/jwtTemplatesList.js';
import { tool$jwtTemplatesUpdate } from './tools/jwtTemplatesUpdate.js';
import { tool$miscellaneousGetPublicInterstitial } from './tools/miscellaneousGetPublicInterstitial.js';
import { tool$oauthApplicationsCreate } from './tools/oauthApplicationsCreate.js';
import { tool$oauthApplicationsDelete } from './tools/oauthApplicationsDelete.js';
import { tool$oauthApplicationsGet } from './tools/oauthApplicationsGet.js';
import { tool$oauthApplicationsList } from './tools/oauthApplicationsList.js';
import { tool$oauthApplicationsRotateSecret } from './tools/oauthApplicationsRotateSecret.js';
import { tool$oauthApplicationsUpdate } from './tools/oauthApplicationsUpdate.js';
import { tool$organizationDomainsCreate } from './tools/organizationDomainsCreate.js';
import { tool$organizationDomainsDelete } from './tools/organizationDomainsDelete.js';
import { tool$organizationDomainsList } from './tools/organizationDomainsList.js';
import { tool$organizationDomainsUpdate } from './tools/organizationDomainsUpdate.js';
import { tool$organizationInvitationsBulkCreate } from './tools/organizationInvitationsBulkCreate.js';
import { tool$organizationInvitationsCreate } from './tools/organizationInvitationsCreate.js';
import { tool$organizationInvitationsGet } from './tools/organizationInvitationsGet.js';
import { tool$organizationInvitationsGetAll } from './tools/organizationInvitationsGetAll.js';
import { tool$organizationInvitationsList } from './tools/organizationInvitationsList.js';
import { tool$organizationInvitationsListPending } from './tools/organizationInvitationsListPending.js';
import { tool$organizationInvitationsRevoke } from './tools/organizationInvitationsRevoke.js';
import { tool$organizationMembershipsCreate } from './tools/organizationMembershipsCreate.js';
import { tool$organizationMembershipsDelete } from './tools/organizationMembershipsDelete.js';
import { tool$organizationMembershipsList } from './tools/organizationMembershipsList.js';
import { tool$organizationMembershipsUpdate } from './tools/organizationMembershipsUpdate.js';
import { tool$organizationMembershipsUpdateMetadata } from './tools/organizationMembershipsUpdateMetadata.js';
import { tool$organizationsCreate } from './tools/organizationsCreate.js';
import { tool$organizationsDelete } from './tools/organizationsDelete.js';
import { tool$organizationsDeleteLogo } from './tools/organizationsDeleteLogo.js';
import { tool$organizationsGet } from './tools/organizationsGet.js';
import { tool$organizationsList } from './tools/organizationsList.js';
import { tool$organizationsMergeMetadata } from './tools/organizationsMergeMetadata.js';
import { tool$organizationsUpdate } from './tools/organizationsUpdate.js';
import { tool$organizationsUploadLogo } from './tools/organizationsUploadLogo.js';
import { tool$phoneNumbersCreate } from './tools/phoneNumbersCreate.js';
import { tool$phoneNumbersDelete } from './tools/phoneNumbersDelete.js';
import { tool$phoneNumbersGet } from './tools/phoneNumbersGet.js';
import { tool$phoneNumbersUpdate } from './tools/phoneNumbersUpdate.js';
import { tool$proxyChecksVerify } from './tools/proxyChecksVerify.js';
import { tool$redirectUrlsCreate } from './tools/redirectUrlsCreate.js';
import { tool$redirectUrlsDelete } from './tools/redirectUrlsDelete.js';
import { tool$redirectUrlsGet } from './tools/redirectUrlsGet.js';
import { tool$redirectUrlsList } from './tools/redirectUrlsList.js';
import { tool$samlConnectionsCreate } from './tools/samlConnectionsCreate.js';
import { tool$samlConnectionsDelete } from './tools/samlConnectionsDelete.js';
import { tool$samlConnectionsGet } from './tools/samlConnectionsGet.js';
import { tool$samlConnectionsList } from './tools/samlConnectionsList.js';
import { tool$samlConnectionsUpdate } from './tools/samlConnectionsUpdate.js';
import { tool$sessionsCreate } from './tools/sessionsCreate.js';
import { tool$sessionsCreateToken } from './tools/sessionsCreateToken.js';
import { tool$sessionsCreateTokenFromTemplate } from './tools/sessionsCreateTokenFromTemplate.js';
import { tool$sessionsGet } from './tools/sessionsGet.js';
import { tool$sessionsList } from './tools/sessionsList.js';
import { tool$sessionsRefresh } from './tools/sessionsRefresh.js';
import { tool$sessionsRevoke } from './tools/sessionsRevoke.js';
import { tool$sessionsVerify } from './tools/sessionsVerify.js';
import { tool$signInTokensCreate } from './tools/signInTokensCreate.js';
import { tool$signInTokensRevoke } from './tools/signInTokensRevoke.js';
import { tool$signUpsGet } from './tools/signUpsGet.js';
import { tool$signUpsUpdate } from './tools/signUpsUpdate.js';
import { tool$templatesPreview } from './tools/templatesPreview.js';
import { tool$testingTokensCreate } from './tools/testingTokensCreate.js';
import { tool$usersBan } from './tools/usersBan.js';
import { tool$usersCount } from './tools/usersCount.js';
import { tool$usersCreate } from './tools/usersCreate.js';
import { tool$usersDelete } from './tools/usersDelete.js';
import { tool$usersDeleteBackupCodes } from './tools/usersDeleteBackupCodes.js';
import { tool$usersDeleteExternalAccount } from './tools/usersDeleteExternalAccount.js';
import { tool$usersDeletePasskey } from './tools/usersDeletePasskey.js';
import { tool$usersDeleteProfileImage } from './tools/usersDeleteProfileImage.js';
import { tool$usersDeleteTOTP } from './tools/usersDeleteTOTP.js';
import { tool$usersDeleteWeb3Wallet } from './tools/usersDeleteWeb3Wallet.js';
import { tool$usersDisableMfa } from './tools/usersDisableMfa.js';
import { tool$usersGet } from './tools/usersGet.js';
import { tool$usersGetInstanceOrganizationMemberships } from './tools/usersGetInstanceOrganizationMemberships.js';
import { tool$usersGetOAuthAccessToken } from './tools/usersGetOAuthAccessToken.js';
import { tool$usersGetOrganizationInvitations } from './tools/usersGetOrganizationInvitations.js';
import { tool$usersGetOrganizationMemberships } from './tools/usersGetOrganizationMemberships.js';
import { tool$usersList } from './tools/usersList.js';
import { tool$usersLock } from './tools/usersLock.js';
import { tool$usersSetProfileImage } from './tools/usersSetProfileImage.js';
import { tool$usersUnban } from './tools/usersUnban.js';
import { tool$usersUnlock } from './tools/usersUnlock.js';
import { tool$usersUpdate } from './tools/usersUpdate.js';
import { tool$usersUpdateMetadata } from './tools/usersUpdateMetadata.js';
import { tool$usersVerifyPassword } from './tools/usersVerifyPassword.js';
import { tool$usersVerifyTotp } from './tools/usersVerifyTotp.js';
import { tool$waitlistEntriesCreate } from './tools/waitlistEntriesCreate.js';
import { tool$waitlistEntriesList } from './tools/waitlistEntriesList.js';
import { tool$webhooksCreateSvixApp } from './tools/webhooksCreateSvixApp.js';
import { tool$webhooksDeleteSvixApp } from './tools/webhooksDeleteSvixApp.js';
import { tool$webhooksGenerateSvixAuthURL } from './tools/webhooksGenerateSvixAuthURL.js';

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  bearerAuth?: SDKOptions['bearerAuth'] | undefined;
  serverIdx?: SDKOptions['serverIdx'] | undefined;
}) {
  const server = new McpServer({
    name: 'Clerk',
    version: '0.1.5',
  });

  const client = new ClerkCore({
    bearerAuth: deps.bearerAuth,
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
  });

  const scopes = new Set(deps.scopes ?? mcpScopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(deps.logger, server, client, scopes, allowedTools);
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(deps.logger, server, client, scopes);
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$miscellaneousGetPublicInterstitial);
  tool(tool$jwksGetJWKS);
  tool(tool$clientsList);
  tool(tool$clientsVerify);
  tool(tool$clientsGet);
  tool(tool$emailAddressesCreate);
  tool(tool$emailAddressesGet);
  tool(tool$emailAddressesDelete);
  tool(tool$emailAddressesUpdate);
  tool(tool$phoneNumbersCreate);
  tool(tool$phoneNumbersGet);
  tool(tool$phoneNumbersDelete);
  tool(tool$phoneNumbersUpdate);
  tool(tool$sessionsList);
  tool(tool$sessionsCreate);
  tool(tool$sessionsGet);
  tool(tool$sessionsRefresh);
  tool(tool$sessionsRevoke);
  tool(tool$sessionsVerify);
  tool(tool$sessionsCreateToken);
  tool(tool$sessionsCreateTokenFromTemplate);
  tool(tool$emailSMSTemplatesList);
  tool(tool$emailSMSTemplatesGet);
  tool(tool$emailSMSTemplatesRevert);
  tool(tool$emailSMSTemplatesToggleTemplateDelivery);
  tool(tool$emailAndSmsTemplatesUpsert);
  tool(tool$templatesPreview);
  tool(tool$usersList);
  tool(tool$usersCreate);
  tool(tool$usersCount);
  tool(tool$usersGet);
  tool(tool$usersUpdate);
  tool(tool$usersDelete);
  tool(tool$usersBan);
  tool(tool$usersUnban);
  tool(tool$usersLock);
  tool(tool$usersUnlock);
  tool(tool$usersSetProfileImage);
  tool(tool$usersDeleteProfileImage);
  tool(tool$usersUpdateMetadata);
  tool(tool$usersGetOAuthAccessToken);
  tool(tool$usersGetOrganizationMemberships);
  tool(tool$usersGetOrganizationInvitations);
  tool(tool$usersVerifyPassword);
  tool(tool$usersVerifyTotp);
  tool(tool$usersDisableMfa);
  tool(tool$usersDeleteBackupCodes);
  tool(tool$usersDeletePasskey);
  tool(tool$usersDeleteWeb3Wallet);
  tool(tool$usersDeleteTOTP);
  tool(tool$usersDeleteExternalAccount);
  tool(tool$usersGetInstanceOrganizationMemberships);
  tool(tool$invitationsCreate);
  tool(tool$invitationsList);
  tool(tool$invitationsBulkCreate);
  tool(tool$invitationsRevoke);
  tool(tool$organizationInvitationsGetAll);
  tool(tool$organizationInvitationsCreate);
  tool(tool$organizationInvitationsList);
  tool(tool$organizationInvitationsBulkCreate);
  tool(tool$organizationInvitationsListPending);
  tool(tool$organizationInvitationsGet);
  tool(tool$organizationInvitationsRevoke);
  tool(tool$allowlistIdentifiersList);
  tool(tool$allowlistIdentifiersCreate);
  tool(tool$allowlistIdentifiersDelete);
  tool(tool$blocklistIdentifiersList);
  tool(tool$blocklistIdentifiersCreate);
  tool(tool$blocklistIdentifiersDelete);
  tool(tool$betaFeaturesUpdateInstanceSettings);
  tool(tool$betaFeaturesUpdateProductionInstanceDomain);
  tool(tool$actorTokensCreate);
  tool(tool$actorTokensRevoke);
  tool(tool$domainsList);
  tool(tool$domainsAdd);
  tool(tool$domainsDelete);
  tool(tool$domainsUpdate);
  tool(tool$instanceSettingsGet);
  tool(tool$instanceSettingsUpdate);
  tool(tool$instanceSettingsUpdateRestrictions);
  tool(tool$instanceSettingsChangeDomain);
  tool(tool$instanceSettingsUpdateOrganizationSettings);
  tool(tool$webhooksCreateSvixApp);
  tool(tool$webhooksDeleteSvixApp);
  tool(tool$webhooksGenerateSvixAuthURL);
  tool(tool$jwtTemplatesList);
  tool(tool$jwtTemplatesCreate);
  tool(tool$jwtTemplatesGet);
  tool(tool$jwtTemplatesUpdate);
  tool(tool$jwtTemplatesDelete);
  tool(tool$organizationsList);
  tool(tool$organizationsCreate);
  tool(tool$organizationsGet);
  tool(tool$organizationsUpdate);
  tool(tool$organizationsDelete);
  tool(tool$organizationsMergeMetadata);
  tool(tool$organizationsUploadLogo);
  tool(tool$organizationsDeleteLogo);
  tool(tool$organizationMembershipsCreate);
  tool(tool$organizationMembershipsList);
  tool(tool$organizationMembershipsUpdate);
  tool(tool$organizationMembershipsDelete);
  tool(tool$organizationMembershipsUpdateMetadata);
  tool(tool$organizationDomainsCreate);
  tool(tool$organizationDomainsList);
  tool(tool$organizationDomainsUpdate);
  tool(tool$organizationDomainsDelete);
  tool(tool$proxyChecksVerify);
  tool(tool$redirectUrlsList);
  tool(tool$redirectUrlsCreate);
  tool(tool$redirectUrlsGet);
  tool(tool$redirectUrlsDelete);
  tool(tool$signInTokensCreate);
  tool(tool$signInTokensRevoke);
  tool(tool$signUpsGet);
  tool(tool$signUpsUpdate);
  tool(tool$oauthApplicationsList);
  tool(tool$oauthApplicationsCreate);
  tool(tool$oauthApplicationsGet);
  tool(tool$oauthApplicationsUpdate);
  tool(tool$oauthApplicationsDelete);
  tool(tool$oauthApplicationsRotateSecret);
  tool(tool$samlConnectionsList);
  tool(tool$samlConnectionsCreate);
  tool(tool$samlConnectionsGet);
  tool(tool$samlConnectionsUpdate);
  tool(tool$samlConnectionsDelete);
  tool(tool$testingTokensCreate);
  tool(tool$waitlistEntriesList);
  tool(tool$waitlistEntriesCreate);

  return server;
}
